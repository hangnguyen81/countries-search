{"version":3,"sources":["components/Header.js","components/Footer.js","components/Weather.js","components/Search.js","App.js","index.js"],"names":["Header","className","Footer","Weather","city","weather","src","weather_icons","alt","weather_descriptions","observation_time","temperature","wind_speed","humidity","feelslike","Search","useState","countries","setCountries","filterCountries","setFilterCountries","selectedCountry","setSelectedCountry","useEffect","axios","get","then","res","data","Countries","showDeltail","e","result","filter","item","alpha2Code","target","value","length","Country","country","map","name","onClick","setWeather","capital","urlWeather","process","current","flag","population","region","timezones","currencies","currency","languages","language","type","onChange","query","toLowerCase","includes","placeholder","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b099a41e.chunk.js","sourcesContent":["const Header = () =>{\r\n    return(\r\n        <div className='container_header'>\r\n            <h1 className='app_title'>\r\n                Search countries\r\n            </h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header","\r\nconst Footer = () =>{\r\n    return(\r\n        <div className='container_footer'>\r\n            <p className = 'app_footer'> \r\n                @Hang Nguyen - 2021\r\n            </p>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Footer","const Weather =({city,weather}) =>{\r\n    return(\r\n        <div className='weather'>\r\n                <h3>Weather in {city} city</h3>\r\n                <div className = 'weather_info'>\r\n                    <img src={weather.weather_icons[0]} alt='Current weather'/>\r\n                    <div className='weather_info_detail'>\r\n                        <p>Weather descriptions: {weather.weather_descriptions}</p> \r\n                        <p>Observation time: {weather.observation_time}</p>   \r\n                        <p>Temperature: {weather.temperature} celsius degree</p>   \r\n                        <p>Wind speed: {weather.wind_speed} </p>   \r\n                        <p>Humidity: {weather.humidity} </p>   \r\n                        <p>Feels like: {weather.feelslike} celsius degree</p>   \r\n                    </div>                                             \r\n                </div>                 \r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Weather","import axios from \"axios\"\r\nimport { useState, useEffect } from \"react\"\r\nimport Weather from \"./Weather\"\r\n\r\nconst Search = () =>{\r\n // hook\r\n    const [countries, setCountries] = useState([])\r\n    const [filterCountries, setFilterCountries] = useState([])\r\n    const [selectedCountry, setSelectedCountry] = useState('')\r\n\r\n// fetch initial data from API https://restcountries.eu by axios and useEffect    \r\n    const fetchData = () =>{\r\n        const url = 'https://restcountries.eu/rest/v2/all'\r\n        axios\r\n            .get(url)\r\n            .then(res =>setCountries(res.data))\r\n    }\r\n    useEffect(fetchData,[])\r\n\r\n    const searchCountries = (e) =>{\r\n        setSelectedCountry('') // reset data for weather\r\n        let  query = e.target.value.toLowerCase()\r\n        setFilterCountries(countries.filter(country => country.name.toLowerCase().includes(query)))  \r\n    }\r\n\r\n    const Countries = ({data}) =>{    \r\n        \r\n        const showDeltail = (e) =>{\r\n            const result = data.filter(item => item.alpha2Code === e.target.value)\r\n            setSelectedCountry(result)\r\n        }\r\n                \r\n        if(data.length === 1 ){\r\n            return(\r\n                <Country country={data}/>\r\n            )\r\n        }else if (data.length >10){\r\n            return (\r\n               <p>\r\n                    Too many results, please provide more specified query\r\n               </p>         \r\n            )\r\n        } else {\r\n            return(\r\n                <div className='results_display'>\r\n                <table>\r\n                    <tbody>\r\n                    {data.map(item => {\r\n                        return(\r\n                            <tr key={item.alpha2Code}>\r\n                                <td>\r\n                                    {item.name}                                \r\n                                </td>\r\n                                <td>\r\n                                    <button \r\n                                        onClick={showDeltail} \r\n                                        value={item.alpha2Code}> Show detail\r\n                                    </button>\r\n                                </td>\r\n                            </tr>)\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n                {selectedCountry.length !==0 ? <Country country={selectedCountry}/>:'' }\r\n            </div>\r\n            )\r\n        }\r\n    }\r\n    \r\n    const Country = ({country}) =>{\r\n        const [weather, setWeather] = useState([])        \r\n        // fetch weather data from API http://api.weatherstack.com/ by axios and useEffect \r\n        useEffect(() =>{\r\n            const api_key = process.env.REACT_APP_API_KEY \r\n            const city = country[0].capital      \r\n            const urlWeather = `http://api.weatherstack.com/current?access_key=${api_key}&query=${city}`\r\n            axios\r\n                .get(urlWeather)\r\n                .then(res => setWeather(res.data.current))\r\n                // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        },[])\r\n    \r\n        return(\r\n            <div className='country'>\r\n                <h3>{country[0].name}</h3>\r\n                <div className='country_info'>\r\n                    <img src={country[0].flag} alt='Flag of country'/>\r\n                    <div className='country_info_detail'>\r\n                        <p>Capital city: {country[0].capital}</p>\r\n                        <p>Population: {country[0].population}</p>\r\n                        <p>Region: {country[0].region}</p>\r\n                        <p>Timezones: {country[0].timezones[0]}</p>\r\n                        <p>Currencies:</p>\r\n                        <ul>\r\n                            {country[0].currencies.map(currency =>\r\n                                <li key={currency.name}>{currency.name}</li>)}\r\n                        </ul>\r\n                        <p>Langagues:</p>\r\n                        <ul>\r\n                            {country[0].languages.map(language =>\r\n                                <li key={language.name}>{language.name}</li>\r\n                                )}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                {weather.length === 0 ? '' : <Weather city={country[0].capital} weather={weather}/> }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <div className='search'>\r\n            <div className = 'search_action'>\r\n                <input className = 'search_input'\r\n                    type = 'text'\r\n                    onChange={searchCountries}\r\n                    placeholder = '... type a country name'\r\n                />\r\n                <p className='search_message'></p>\r\n            </div>\r\n            <div className='search_results'>\r\n                <Countries data={filterCountries}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search","import Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Search from \"./components/Search\";\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <Header />\n      <Search />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}